"""
最终回测结果总结（止损1%，止盈2%）
"""

print("=" * 70)
print("最终回测结果总结（止损1%，止盈2%）")
print("=" * 70)
print()

print("【回测参数】")
print("-" * 70)
print("初始资金: $10,000")
print("止损: 1.00%")
print("止盈: 2.00%")
print("失衡阈值: 0.35")
print("信号检查间隔: 10秒")
print("最小交易间隔: 30秒")
print()

print("【最终结果】")
print("-" * 70)
print("最终权益: $7,383.50")
print("总收益率: -26.16%")
print("总盈亏: -$2,503.74")
print("总手续费: $266.99")
print()

print("【交易统计】")
print("-" * 70)
print("总交易次数: 953 笔")
print("盈利交易: 9 笔")
print("亏损交易: 61 笔")
print("胜率: 0.94% (极低！)")
print("平均盈利: $0.26")
print("平均亏损: $-43.17")
print("盈亏比: 0.01 (非常差)")
print()

print("【风险指标】")
print("-" * 70)
print("最大回撤: 28.00%")
print("夏普比率: -0.11 (负值，表现很差)")
print()

print("【止损止盈统计】")
print("-" * 70)
print("止损触发: 4 次")
print("止盈触发: 0 次 (没有一次达到2%止盈目标)")
print()

print("【关键问题分析】")
print("-" * 70)
print("1. 胜率极低 (0.94%)：")
print("   - 953笔交易中只有9笔盈利")
print("   - 说明策略信号质量很差")
print()
print("2. 止盈从未触发：")
print("   - 0次止盈触发，说明价格从未达到2%的盈利目标")
print("   - 可能止盈目标设置过高，或者策略方向判断错误")
print()
print("3. 平均亏损远大于平均盈利：")
print("   - 平均盈利: $0.26")
print("   - 平均亏损: $-43.17")
print("   - 盈亏比: 0.01 (理想应该>1)")
print()
print("4. 持仓管理问题：")
print("   - 最终持仓: -10.1000 (大量空头持仓)")
print("   - 现金余额: $40,968.02 (异常高)")
print("   - 说明持仓累积过多，风险控制失效")
print()

print("【建议】")
print("-" * 70)
print("1. 策略逻辑需要重新设计：")
print("   - 当前策略信号质量极差，需要优化失衡计算算法")
print("   - 考虑使用更可靠的技术指标")
print()
print("2. 调整止盈止损参数：")
print("   - 止盈目标可能过高，考虑降低到1%或1.5%")
print("   - 或者使用动态止盈（追踪止损）")
print()
print("3. 添加持仓限制：")
print("   - 设置最大持仓数量，避免持仓累积")
print("   - 添加持仓管理规则")
print()
print("4. 考虑只做单向交易：")
print("   - 当前双向交易导致频繁开平仓")
print("   - 可以尝试只做多或只做空")
print()

print("=" * 70)
